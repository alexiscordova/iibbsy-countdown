// Mixins

// Media Query Breakpoints â€“ Breakpoint values should be in ems, which will allow triggering when users zoom.
// Per the W3C, relative units in media query declarations are based on the initial value of :root, which is 16px
// e.g., font-size: 1em = 1rem = 16px = 100%;
// http://www.w3.org/TR/css3-mediaqueries/#units
$screen-md: 40em; // 640px
$screen-lg: 48.063em; // 769px

$breakpoints: (
  small: null,
  medium: $screen-md,
  large: $screen-lg
);

// breakpoint - Media query declaration using map
// Required: $breakpoint - valid key from $breakpoints map
@mixin breakpoint($breakpoint, $retina: false) {
  @if map-has-key($breakpoints, $breakpoint) and $retina == false {
    @if $breakpoint == 'small' {
      @media only screen and (max-width: map-get($breakpoints, medium)) {
        @content;
      }
    }
    @else if $breakpoint == 'medium' {
      @media only screen and (min-width: map-get($breakpoints, medium)) {
        @content;
      }
    }
    @else if $breakpoint == 'large' {
      @media only screen and (min-width: map-get($breakpoints, large)) {
        @content;
      }
    }
  }
  @else if map-has-key($breakpoints, $breakpoint) and $retina == true {
    @if $breakpoint == 'small' {
      @media only screen and (max-width: map-get($breakpoints, medium)) and (min-resolution: 192dpi) {
        @content;
      }
    }
    @else if $breakpoint == 'medium' {
      @media only screen and (min-width: map-get($breakpoints, medium)) and (min-resolution: 192dpi) {
        @content;
      }
    }
    @else if $breakpoint == 'large'  {
      @media only screen and (min-width: map-get($breakpoints, large)) and (min-resolution: 192dpi) {
        @content;
      }
    }
  }
  @else {
    @warn 'Not a valid breakpoint: ' + $breakpoint;
  }
}
